{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst API_KEY = '36828323-5d4b30a68db3a86c330ff5a61';\nconst BASE_URL = 'https://pixabay.com/api/'\n\nexport function fetchImages(query) {\n\treturn axios.get(BASE_URL, {\n\t\tparams: {\n\t\t\tkey: API_KEY,\n\t\t\tq: query,\n\t\t\timage_type: 'photo',\n\t\t\torientation: 'horizontal',\n\t\t\tsafesearch: true,\n\t\t}\n\t}).then(response => {\n\t\tif (response.data.hits.length === 0) {\n\t\t\tiziToast.error({\n\t\t\t\tmessage: \"Sorry, there are no images matching your search query. Please try again!\",\n\t\t\t\tposition: \"topRight\",\n\t\t\t});\n\t\t}\n\t\treturn response.data.hits\n\t})\n\t.catch(error => {\n\t\tiziToast.error({\n\t\t\ttitle: \"Error\",\n\t\t\tmessage: \"Something went wrong. Try again later\",\n\t\t\tposition: \"topRight\",\n\t\t});\n\t\tconsole.error(\"Error: \", error)\n\t}) \n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nlet lightbox;\n\nexport function renderGallery(images) {\n\tconst gallery = document.querySelector('.gallery');\n\tconst markup = images\n.map(image => {\n  return `<a href=\"${image.largeImageURL}\" class=\"photo-card\">\n            <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" />\n            <div class=\"info\">\n              <p><strong>Likes:</strong> ${image.likes}</p>\n              <p><strong>Views:</strong> ${image.views}</p>\n              <p><strong>Comments:</strong> ${image.comments}</p>\n              <p><strong>Downloads:</strong> ${image.downloads}</p>\n            </div>\n          </a>`;\n})\n.join('');\n\n\tgallery.innerHTML = markup;\n\n\tif (lightbox) {\n    lightbox.refresh(); \n} else {\n    lightbox = new SimpleLightbox('.gallery a', {\n\t\t\tcaptionsData: 'alt', \n\t\t\tcaptionDelay: 150,   \n\t\t\tanimationSpeed: 200, \n\t\t\tcloseText: 'Ã—',      \n\t\t\tnavText: ['<', '>'],\n    });\n}\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { fetchImages } from \"./js/pixabay-api\";\nimport { renderGallery } from \"./js/render-functions\";\n\nconst form = document.querySelector('.search-form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader-wrapper');\nconst input = document.querySelector('.search-form input');\n\nform.addEventListener('submit', (event) => {\n\tevent.preventDefault();\n\n\tconst query = event.target.elements.searchQuery.value;\n\n\n\tif (!query) {\n\t\tiziToast.warning({\n\t\t\tmessage: \"Please enter a search query\",\n\t\t\tposition: \"topRight\",\n\t});\n\t\treturn;\n\t}\n\n\tgallery.innerHTML = '';\n\tloader.style.display = 'flex';\n\tinput.classList.add('active');\n\n\n\tfetchImages(query)\n\t.then(images => {\n\t\tif (images.length === 0) {\n\t\t\tiziToast.info({\n\t\t\t\tmessage: \"Sorry, there are no images matching your search query\",\n\t\t\t\tposition: \"topRight\",\n\t\t});\n\t\t\treturn;\n\t\t}\n\t\t\n\t\trenderGallery(images);\n\n\t})\n\t.catch(error => {\n\t\tiziToast.error({\n\t\t\ttitle: \"Error\",\n\t\t\tmessage: \"Something went wrong. Please try again later.\",\n\t\t\tposition: \"topRight\",\n\t});\n\t\tconsole.error('Error', error);\n\t})\n\t.finally(() => {\n\t\tform.searchQuery.value = '';\n\t\tloader.style.display = 'none';\n\t\tinput.classList.remove('active');\n\t});\n});"],"names":["API_KEY","BASE_URL","fetchImages","query","axios","response","iziToast","error","lightbox","renderGallery","images","gallery","markup","image","SimpleLightbox","form","loader","input","event"],"mappings":"owBAIA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,SAASC,EAAYC,EAAO,CAClC,OAAOC,EAAM,IAAIH,EAAU,CAC1B,OAAQ,CACP,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACZ,CACH,CAAE,EAAE,KAAKE,IACHA,EAAS,KAAK,KAAK,SAAW,GACjCC,EAAS,MAAM,CACd,QAAS,2EACT,SAAU,UACd,CAAI,EAEKD,EAAS,KAAK,KACrB,EACA,MAAME,GAAS,CACfD,EAAS,MAAM,CACd,MAAO,QACP,QAAS,wCACT,SAAU,UACb,CAAG,EACD,QAAQ,MAAM,UAAWC,CAAK,CAChC,CAAE,CACF,CC9BA,IAAIC,EAEG,SAASC,EAAcC,EAAQ,CACrC,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAASF,EACf,IAAIG,GACI,YAAYA,EAAM,aAAa;AAAA,wBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,2CAEnBA,EAAM,KAAK;AAAA,2CACXA,EAAM,KAAK;AAAA,8CACRA,EAAM,QAAQ;AAAA,+CACbA,EAAM,SAAS;AAAA;AAAA,eAG7D,EACA,KAAK,EAAE,EAEPF,EAAQ,UAAYC,EAEhBJ,EACDA,EAAS,QAAO,EAEhBA,EAAW,IAAIM,EAAe,aAAc,CAC7C,aAAc,MACd,aAAc,IACd,eAAgB,IAChB,UAAW,IACX,QAAS,CAAC,IAAK,GAAG,CACrB,CAAK,CAEL,CC7BA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CJ,EAAU,SAAS,cAAc,UAAU,EAC3CK,EAAS,SAAS,cAAc,iBAAiB,EACjDC,EAAQ,SAAS,cAAc,oBAAoB,EAEzDF,EAAK,iBAAiB,SAAWG,GAAU,CAC1CA,EAAM,eAAc,EAEpB,MAAMf,EAAQe,EAAM,OAAO,SAAS,YAAY,MAGhD,GAAI,CAACf,EAAO,CACXG,EAAS,QAAQ,CAChB,QAAS,8BACT,SAAU,UACb,CAAE,EACA,MACA,CAEDK,EAAQ,UAAY,GACpBK,EAAO,MAAM,QAAU,OACvBC,EAAM,UAAU,IAAI,QAAQ,EAG5Bf,EAAYC,CAAK,EAChB,KAAKO,GAAU,CACf,GAAIA,EAAO,SAAW,EAAG,CACxBJ,EAAS,KAAK,CACb,QAAS,wDACT,SAAU,UACd,CAAG,EACA,MACA,CAEDG,EAAcC,CAAM,CAEtB,CAAE,EACA,MAAMH,GAAS,CACfD,EAAS,MAAM,CACd,MAAO,QACP,QAAS,gDACT,SAAU,UACb,CAAE,EACA,QAAQ,MAAM,QAASC,CAAK,CAC9B,CAAE,EACA,QAAQ,IAAM,CACdQ,EAAK,YAAY,MAAQ,GACzBC,EAAO,MAAM,QAAU,OACvBC,EAAM,UAAU,OAAO,QAAQ,CACjC,CAAE,CACF,CAAC"}